# Enable PHP execution
AddHandler application/x-httpd-php .php

# Set default index
DirectoryIndex index.php routes.php

# Enable rewrite engine
RewriteEngine On

# Allow direct access to existing files and directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Route API requests to api.php
RewriteRule ^api/(.*)$ api.php [QSA,L]

# Route direct endpoint calls to routes.php
RewriteRule ^([^/]+)$ routes.php?request=$1 [QSA,L]